# 字典数据结构
## 1、底层实现
* `Redis数据库`底层实现是`字典 (map)`
* `字典`的底层实现是`哈希表`,并使用`链地址法`解决key冲突

## 2、rehash
* 目的： 通过扩容或缩小令哈希表的负载因子处于一个合理的范围内，保持哈希表的高效性
* 字典表中有`2`个hash表
* redis对字典表的哈希表执行rehash的步骤
  * 0、假设ht[0]中键值对的个数为`size`
  * 1、分配空间
    * 为字典的h1[1]哈希表分配空间
    * 当执行`扩容`操作时，ht[1]的大小为第一个大于等于`2 * size`的`2^n`
    * 当执行`收缩`操作时，ht[1]的大小为第一个大于等于`size`的`2^n`
  * 2、迁移
    * 将保存在ht[0]中的K-V都rehash到ht[1]上
  * 3、释放空间
    * ht[0]中的K-V都迁移到ht[1]后，释放ht[0],将ht[1]设置为ht[0]
    * 为ht1[1]创建一个空白哈希表，为下一次的rehash做准备
