# 缓存问题以及解决方案
## 1、缓存穿透
* 问题描述：请求某个一定不存在的数据，该请求将会穿透缓存到达数据库
* 解决方案：
  * 方案1：对这些不存在的数据，缓存一个空数据。最好再设置一个过期时间。
  * 方案2：对这些请求进行过滤。
---
## 2、缓存雪崩
* 问题描述：数据没有被加载到缓存中，或者缓存数据在同一时间大面积失效，或者缓冲服务器宕机。从而导致大量请求到达数据库。
* 解决方案：
  * 解决方案1：缓存预热。可以解决系统刚启动不久，还未将大量数据进行缓存而导致的缓存雪崩。
  * 解决方案2：设置合理的过期时间。可以解决缓存数据同一时间大面积失效导致的缓存雪崩。
  * 解决方案3：分布式缓存。可以解决单点故障造成的缓存雪崩。
---
## 3、缓存一致性
缓存一致性要求更新数据的同时，也要更新缓存
解决方案：
  * 解决方案1：更新数据的同时，更新缓存
  * 解决方案2：在读取缓存之前，先判断缓存是否为最新，如果不是最新的先进行更新。
要保证缓存一致性需要付出很大的代价，缓存数据最好是那些对一致性要求不高的数据，允许
缓存数据存在一些脏数据。